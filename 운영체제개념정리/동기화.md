## 동기화 이슈

### 동기화 이슈

- 동기화: 작업들 사이에 실행 시기를 맞추는 것
- 여러 스레드가 동일한 자원접근시 동기화 이슈 발생
  - 동일 자원을 여러 스레드가 동시 수정시,각 스레드 결과에 영향을 줌

-----

### 동기화 이슈 해결 방안

- Mutal exclusion(상호 배제)
- 쓰레드는 프로세스 모든 데이터를 접근할 수 있으므로
  - 여러 스레드가 변경하는 공유 변수에 대해 Exclusive Access필요
  - 어느 한 스레드가 공유 변수를 갱신하는 동안 다른 스레드가 동시 접근하지 못하도록 막기

-----

### Mutual exclusion(상호 배제)

- 임계 자원(critical resource)
- 임계 영역(critical section)

------

### Mutex와 세마포어(Semaphore)

- Crutucal Section에 대한 접근을 막기 위해 LOCKING메커니즘이 필요
  - Mutex(binary semaphore): 임계구역에 하나의 스레드만 들어갈 수 있음
  - Semaphore: 임계구역에 여러 스레드가 들어갈 수 있음, counter를 두어서 동시에 리소스에 접근할 수 있는 허용 가능한 스레드 수를 제어

-----

## 교착상태와 기아상태

### 교착상태란?

- 무한 대기 상태: 두개 이상의 작업이 서로 상대방의 작업이 끝나기만을 기다리고 있기 떄문에, 다음 단계로 진행하지 못하는 상태

![image-20200221140245245](/Users/hongbeen/Library/Application Support/typora-user-images/image-20200221140245245.png)

-----

## 교착상태 발생 조건

- 다음 네 가지 조건이 모두 성립될 때,교착상태 발생 가능성이 있음

1. 상호배제: 프로세스들이 필요로 하는 자원에 대해 배타적인 통제권을 요구한다.
2. 점유대기: 프로세스가 할당된 자원을 가진 상태에서 다른 자원을 기다린다.
3. 비선점: 프로세스가 어떤 자원의 사용을 끝낼 때까지 그 자원을 뺏을 수 없다.
4. 순환대기: 각 프로세스는 순환적으로 다음프로세스가 요구하는 자원을 가지고 있다.

-----

### 기아상태란?

- 특정 프로세스의 우선 순위가 낮아서 원하는 자원을 계속 할당 받지 못하는 상태

- 교착상태와 기아상태

  - 교착상태는 여러 프로세스가 동일 자원 점유를 요청할 때 발생
  - 기아상태는 여러 프로세스가 부족한 자원을 점유하기 위해 경쟁할 때,특정 프로레스는 영원히 자원 할당이 안되는 경우를 주로 의미함

  

------

### 기아상태 해결 방안

- 우선순위 변경
  - 프로세스 우선순위를 수시로 변경해서, 각 프로레스가 높은 우선순위를 가질 기회주기
  - 오래 기다린 프로레스의 우선순위를 높여주기
  - 우선순위가 아닌, 요청 순서대로 처리하는 FIFO기반 요청규 사용